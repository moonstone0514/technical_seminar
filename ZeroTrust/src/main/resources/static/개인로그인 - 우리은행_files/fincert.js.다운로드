!function(s){"use strict";var c={},e=s.crypto||s.msCrypto,u=e?e.subtle||e.webkitSubtle:void 0;function f(e,n,t,o,r,i,a){e===n?((e=document.createElement("script")).innerHTML=t,i&&(e.onload=i),r.getElementsByTagName("head")[0].appendChild(e)):a?(console.log("'"+o+"' 파일의 해시값 오류로 결제원 WEB서버에서 다운로드 합니다."),l(o,r,i)):(console.log("'"+o+"' 파일의 해시값 오류로 Backup CDN서버에서 다운로드 합니다."),c.getValidJSForNonWebStandardComplianceBroswer(n,o,r,i,!0))}function l(e,n,t){var o=document.createElement("script");o.src="https://4user.yeskey.or.kr/v1/"+e+"?2025-07-15T07_41_16.539Z",o.charset="utf-8",o.type="text/javascript",t&&(o.onload=t),n&&n.body&&n.body.appendChild(o)}function d(e){e=new Uint8Array(e);return btoa(String.fromCharCode.apply(null,e))}c.getValidJSForWebStandardComplianceBroswer=function(e,n,t,o,r,i){var a=document.createElement("script");a.id=e,a.type="text/javascript",a.src=(i?"https://sdk2.yeskey.or.kr":"https://sdk.yeskey.or.kr")+"/v1/"+t+"?2025-07-15T07_41_16.539Z",a.charset="utf-8",a.integrity="sha256-"+n,a.crossOrigin="anonymous",r&&(a.onload=r),a.onerror=function(){i?(console.log("'"+t+"' 파일의 해시값 오류로 결제원 WEB서버에서 다운로드 합니다."),l(t,o,r)):c.getValidJSForWebStandardComplianceBroswer(e,n,t,o,r,!0)},o&&o.body&&o.body.appendChild(a)},c.getValidJSForNonWebStandardComplianceBroswer=function(n,t,o,r,i){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState===a.DONE){if(""==a.responseText){if(i)return console.log("방화벽 등으로 responseText가 없음 - 결제원 웹서버로 시도"),void l(t,o,r);console.log("방화벽 등으로 responseText가 없음 - 백업 CDN으로 재시도"),c.getValidJSForNonWebStandardComplianceBroswer(n,t,o,r,!0)}var e=new Uint8Array(function(e,n){var t;n=n||1/0;for(var o=e.length,r=null,i=[],a=0;a<o;a++){if(55295<(t=e.charCodeAt(a))&&t<57344){if(!r){if(56319<t){-1<(n-=3)&&i.push(239,191,189);continue}if(a+1===o){-1<(n-=3)&&i.push(239,191,189);continue}r=t;continue}if(t<56320){-1<(n-=3)&&i.push(239,191,189),r=t;continue}t=r-55296<<10|t-56320|65536,r=null}else r&&(-1<(n-=3)&&i.push(239,191,189),r=null);if(t<128){if(--n<0)break;i.push(t)}else if(t<2048){if((n-=2)<0)break;i.push(t>>6|192,63&t|128)}else if(t<65536){if((n-=3)<0)break;i.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<2097152))throw new Error("Invalid code point");if((n-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return i}(a.responseText));if(s.crypto)try{u.digest("SHA-256",e).then(function(e){f(d(e),n,a.responseText,t,o,r,i)})}catch(e){console.log("WebCrypto 객체에 subtle 또는 webkitSubtle 객체에 digest 함수 없음!!"),l(t,o,r)}else try{u.digest("SHA-256",e).oncomplete=function(e){f(d(e.target.result),n,a.responseText,t,o,r,i)}}catch(e){console.log("WebCrypto 객체에 subtle 또는 webkitSubtle 객체에 digest 함수 없음!!"),l(t,o,r)}}},a.open("GET",(i?"https://sdk2.yeskey.or.kr":"https://sdk.yeskey.or.kr")+"/v1/"+t+"?2025-07-15T07_41_16.539Z"),a.send()},s.FinCert||(s.FinCert={}),s.FinCert.loadUtil=c}(window),function(){"undefined"==typeof finCertClient&&(finCertClient={}),t=window,finCertClient,t.FinError=function(e,n,t,o){this.message=e,this.cause=n;e="["+(this.code=t)+"] "+e;(this.info=o)&&(e=e+"\n"+JSON.stringify(o)),console.error(e),!n||n.code&&1e5<=n.code&&n.code<=999999||console.error(' caused by "'+n.name+" : "+n.message+'"'),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack},t.FinError.prototype=Object.create(Error.prototype),t.FinError.prototype.constructor=t.FinError,t.FinError.prototype.getFullMessage=function(){for(var e="",n=this;void 0!==n&&(""!==e&&(e+=" - "),e+=n.message,void 0!==this.code&&(e+=" ["+this.code+"]"),!(!n.cause instanceof t.FinError));)n=n.cause;return e},t.FinError.prototype.getFullStack=function(){for(var e="",n=this;n&&(e&&(e+="\n=================\n"),e+=n.stack,!(!n.cause instanceof t.FinError));)n=n.cause;return e};var t}(),function(){"undefined"==typeof FinCert&&(FinCert={}),p=window,e=FinCert,M="2025-07-15T07_41_16.539Z",p&&p.document&&p.document.getElementById("finCertSdkIframe")||(i=e.loadUtil=e.loadUtil||{},a="https://4user.yeskey.or.kr/v1/version.txt",y=g=!(m="JD6QLi8rYZ3aR8iDGsfdlbYFNS+ayyWiMjIcPMg0+1k="),v=p.crypto||p.msCrypto,h=v?v.subtle:void 0,F=E=A=w=k=o=C=!(S="https://4user.yeskey.or.kr"),R=!"https://certcld.yeskey.or.kr",D="",(e.Sdk=x={}).waitUntilLoadingCompleted=function(e){A?E?F?p.FinCert.Sdk.init(e):setTimeout(x.waitUntilLoadingCompleted,100,e):y?(console.log("loading fincert sdk is finished."),x.init(e)):C&&o?p.FinCert.Sdk.init(e):setTimeout(x.waitUntilLoadingCompleted,100,e):setTimeout(x.waitUntilLoadingCompleted,100,e)},x.getVersion=function(){return M},x.init=function(e){var n=s(e,"fail","function");if(n){var t=s(e,"success","function",n);if(t)if("function"==typeof e.raIssueAppFunc&&(e.raIssueAppFuncCall=!0),"function"==typeof e.raRenewAppFunc&&(e.raRenewAppFuncCall=!0),v&&h){if(e.hostname=location.hostname,""===e.hostname&&(-1!==JSON.parse('["RF20910000", "RF20910001", "RF20910002", "RF20910003", "RF20910004"]').indexOf(e.orgCode)?e.hostname=function(e){for(var n,t=window,o=0;o<e;o++)try{var r=t.parent;if(!r||r===t)break;if(n=r.location.hostname)return n;t=r}catch(e){break}return""}(5)||"-":e.hostname="-"),e.cssUrls&&Array.isArray(e.cssUrls))for(var o=0;o<e.cssUrls.length;o++){var r,i=e.cssUrls[o];"string"==typeof i&&((r=p.document.createElement("a")).href=i,e.cssUrls[o]=r.href)}var a=s(e,"apiKey","string",n);a&&(!1===g&&_(a),!0===y&&!0===A&&!1===E?!1!==c(n,"init")&&l("init",e,!1,t,n):g?n({message:"이미 금융인증서비스 실행중입니다. 잠시 기다리세요. (init)",cause:null,code:100008}):(g=!0,x.waitUntilLoadingCompleted(e)))}else n({message:"미지원 브라우저 입니다. 다른 브라우저를 사용하시기 바랍니다.",cause:null,code:900001})}},x.issue=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"issue")&&l("issue",e,!0,n,t)},x.renew=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"renew")&&l("renew",e,!0,n,t)},x.regSimpleKeyToken=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"regSimpleKeyToken")&&l("regSimpleKeyToken",e,!0,n,t)},x.sign=function(e){var n,t;if(Array.isArray(e)&&0<e.length){if(!(n=s(e[0],"fail","function")))return;if(!(t=s(e[0],"success","function",n)))return}else{if(!(n=s(e,"fail","function")))return;if(!(t=s(e,"success","function",n)))return}y&&!1!==c(n,"sign")&&l("sign",e,!0,t,n)},x.signWithoutUI=function(e){var n,t;if(Array.isArray(e)&&0<e.length){if(!(n=s(e[0],"fail","function")))return;if(!(t=s(e[0],"success","function",n)))return}else{if(!(n=s(e,"fail","function")))return;if(!(t=s(e,"success","function",n)))return}y&&!1!==c(n,"signWithoutUI")&&l("signWithoutUI",e,!1,t,n)},x.myDataSign=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"myDataSign")&&l("myDataSign",e,!0,n,t)},x.myDataSignWithoutUI=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"myDataSignWithoutUI")&&l("myDataSignWithoutUI",e,!1,n,t)},x.kisaSimpleAuth=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"kisaSimpleAuth")&&l("kisaSimpleAuth",e,!0,n,t)},x.oneappSign=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&("function"==typeof e.bioAuthAppFunc&&(e.bioAuthAppFuncCall=!0),y&&!1!==c(t,"oneappSign")&&l("oneappSign",e,!1,n,t))},x.manage=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"manage")&&l("manage",e,!0,n,t)},x.checkCloudConn=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"checkCloudConn")&&l("checkCloudConn",e,!1,n,t)},x.setSubAuthData=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"setSubAuthData")&&l("setSubAuthData",e,!1,n,t)},x.getCertInfoList=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"getCertInfoList")&&l("getCertInfoList",e,!1,n,t)},x.getUserInfo=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"getUserInfo")&&l("getUserInfo",e,!1,n,t)},x.setAuthData=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"setAuthData")&&l("setAuthData",e,!1,n,t)},x.getCertInfo=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"getCertInfo")&&l("getCertInfo",e,!1,n,t)},x.getSignerCertFromSignedVal=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"getSignerCertFromSignedVal")&&l("getSignerCertFromSignedVal",e,!1,n,t)},x.isOverseasIp=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"isOverseasIp")&&l("isOverseasIp",e,!1,n,t)},x.registerDevice=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"registerDevice")&&l("registerDevice",e,!1,n,t)},x.cancelDeviceRegister=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"cancelDeviceRegister")&&l("cancelDeviceRegister",e,!1,n,t)},x.getRegisterDeviceStatus=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"getRegisterDeviceStatus")&&l("getRegisterDeviceStatus",e,!1,n,t)},x.disconnectCloudConn=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"disconnectCloudConn")&&l("disconnectCloudConn",e,!1,n,t)},x.convertBase64UrlToBase64=function(e){var n=s(e,"fail","function");if(n){var t=s(e,"success","function",n);if(t){e=s(e,"base64Url","string",n);if(e)try{for(var o=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-o.length%4)%4;0<r;r--)o+="=";t({base64:o})}catch(e){n(new FinError("파라미터가 올바르지 않습니다. (base64Url)",e,1e5))}}}},x.convertBase64ToBase64Url=function(e){var n=s(e,"fail","function");if(n){var t=s(e,"success","function",n);if(t){e=s(e,"base64","string",n);if(e)try{t({base64Url:e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/m,"")})}catch(e){n(new FinError("파라미터가 올바르지 않습니다. (base64)",e,1e5))}}}},x.signEnvelop=function(e){var n,t;if(Array.isArray(e)&&0<e.length){if(!(n=s(e[0],"fail","function")))return;if(!(t=s(e[0],"success","function",n)))return}else{if(!(n=s(e,"fail","function")))return;if(!(t=s(e,"success","function",n)))return}y&&!1!==c(n,"signEnvelop")&&l("signEnvelop",e,!0,t,n)},x.deEnvelop=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"deEnvelop")&&l("deEnvelop",e,!0,n,t)},x.makeAutoConnInfo=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"makeAutoConnInfo")&&l("makeAutoConnInfo",e,!1,n,t)},x.setAutoConnInfo=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"setAutoConnInfo")&&l("setAutoConnInfo",e,!1,n,t)},x.getAvailableAuthMethod=function(e){var n,t=s(e,"fail","function");!t||(n=s(e,"success","function",t))&&y&&!1!==c(t,"getAvailableAuthMethod")&&l("getAvailableAuthMethod",e,!1,n,t)},x.abort=function(e){if(s(e,"callback","function"))if(y)R=!1,D="",T=new Date,l("abort",e,!1);else if(e&&e.callback)try{e.callback()}catch(e){console.warn("callback 함수를 호출하는 동안 에러가 발생하였습니다. 확인하시기 바랍니다."),console.warn(e.message)}},_=function(e){var t=new XMLHttpRequest,o=!1,r=setTimeout(function(){!1===o&&(o=!0,t.abort(),E=!(A=!0))},3e3);t.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE&&!1===o){A=o=!0,clearTimeout(r);var e=t.responseText;try{var n=JSON.parse(e);"Y"===n.old_ver_sdk_yn?(E=!0,B()):"221.140.137.184"===n.user_ip&&(E=!0,L())}catch(e){E=!1}}},t.open("POST","https://certcld.yeskey.or.kr/v3/cld-3init/sdk-ver-check"),t.setRequestHeader("client_id",e),t.send()},U=function(e){var n=p.document.createElement("script");n.src="https://4user.yeskey.or.kr/v1/fincert.js?version="+e,n.onload=function(){o=!0},n.onload=function(){C=!1,O()},p.document.querySelector("body").appendChild(n)},B=function(){p&&p.document&&p.document.getElementById("finCertSdkIframe")&&(e=p.document.getElementById("finCertSdkIframe"),document.querySelector("body").removeChild(e));var e=p.document.createElement("script");e.src="https://4user.yeskey.or.kr/v1/legacy/fincert.js?version="+M,e.onload=function(){F=!0},e.onerror=function(){E=!1,O()},p.document.querySelector("body").appendChild(e)},L=function(){p&&p.document&&p.document.getElementById("finCertSdkIframe")&&(e=p.document.getElementById("finCertSdkIframe"),document.querySelector("body").removeChild(e));var e=p.document.createElement("script");e.src="https://4user.yeskey.or.kr/v1/frame/fincert.js?version="+M,e.onload=function(){F=!0},e.onerror=function(){E=!1,O()},p.document.querySelector("body").appendChild(e)},O=function(){var o;E||((o=document.createElement("iframe")).style.position="fixed",o.style.zIndex=3000001,o.style.top="0px",o.style.left="0px",o.style.width="100%",o.style.height="100%",o.style.backgroundColor="transparent",o.style.display="none",o.title="금융인증서비스 개인",o.frameBorder=0,o.setAttribute("id","finCertSdkIframe"),o.onload=function(){var e=o.contentWindow,n=e.document,t=n.createElement("iframe");t.src="https://4user.yeskey.or.kr/fincert/web/v1/fincert.html?"+M,t.style.position="fixed",t.style.zIndex=3000001,t.style.top="0px",t.style.left="0px",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="transparent",t.title="금융인증서비스 개인 화면",t.frameBorder=0,t.setAttribute("id","finCertSdkInnerIframe"),n&&n.body&&n.body.appendChild(t),e.addEventListener("message",r)},p.document&&p.document.body&&p.document.body.appendChild(o))},p.addEventListener("resize",function(){t()}),p.addEventListener("onorientationchange",function(){t()}),function e(){if(p.document&&"complete"!==p.document.readyState)return console.log("document.readyState : "+p.document.readyState),void setTimeout(e,50);var n,t,o,r;v&&h&&((n=(new Date).toISOString().replace(/:/g,"_"))<"2025-07-16T15_00_00.000Z"?(console.log("my version: "+M),t=new XMLHttpRequest,o=!1,r=setTimeout(function(){!1===o&&(o=!0,t.abort(),O())},3e3),t.onreadystatechange=function(){var e,n;4===this.readyState&&200===this.status&&!1===o&&(o=!0,clearTimeout(r),0!==(e=this.responseText).indexOf("version:")||2!=(n=e.split(":")).length||n[1]===M?O():(console.log("new fincert version detected!"),C=!0,U(n[1])))},t.open("GET",a+"?"+n),t.send()):O())}());function r(e){e.origin===S&&e.data.version===M&&("FINCERT_PERS_MAIN"===e.data.type?(I=e.ports[0])&&(y=!0,I.onmessage=n,t()):"FINCERT_PERS_MAIN_PROMISE"===e.data.type&&function(n,t){if("setSessionStorageItem"===n.command)try{sessionStorage.setItem(n.param.key,n.param.value),t.postMessage({command:n.command})}catch(e){console.log("session storage 사용시 에러 발생"),t.postMessage({command:n.command,error:e})}else if("getSessionStorageItem"===n.command)try{var e=sessionStorage.getItem(n.param.key);t.postMessage({command:n.command,result:e})}catch(e){console.log("session storage 사용시 에러 발생"),t.postMessage({error:e})}}(e.data,e.ports[0]))}function n(e){var n,t,o;if(e.data.event)"IFRAME_FOCUS"===e.data.event?(n=p.document.getElementById("finCertSdkIframe"))&&n.focus():"LOCATION_RELOAD"===e.data.event?p.location.reload(!0):"DISABLE_SCROLL"===e.data.event?u():"CLEAR_ALL_SCROLL"===e.data.event&&f();else if(e.data.command)if("chgIframeStyle"===e.data.command){if((n=p.document.getElementById("finCertSdkIframe"))&&"object"==typeof e.data.param)for(var r in e.data.param)n.style[r]=e.data.param[r]}else"loadFincertFrm"===e.data.command?(t=e.data.param.sriHashCompliance,(o=document.getElementById("finCertSdkIframe"))&&!1===k&&(k=!0,t?i.getValidJSForWebStandardComplianceBroswer("finCertFrmScriptTag",m,"fincert-frm.js",o.contentWindow.document,!1):i.getValidJSForNonWebStandardComplianceBroswer(m,"fincert-frm.js",o.contentWindow.document,!1))):"movePage"===e.data.command&&(p.location.href=e.data.param.destination)}function u(){var e;!1===w&&(w=!0,e=p.document.querySelector("body"),b=pageYOffset,e.style.overflow="hidden",e.style.position="fixed",e.style.top=-b+"px",e.style.width="100%")}function f(){var e;w&&(w=!1,(e=p.document.querySelector("body")).style.removeProperty("overflow"),e.style.removeProperty("position"),e.style.removeProperty("top"),e.style.removeProperty("width"),p.scrollTo(0,b))}function s(e,n,t,o){return void 0!==e&&void 0!==e[n]&&typeof e[n]===t?e[n]:(function(e,n,t){t=t||1e5;{if(!n)throw new FinError(e,null,t);n(new FinError(e,null,t))}}("파라미터가 올바르지 않습니다. ("+n+")",o),null)}function l(e,n,t,o,r){var i,a,s,c=document.getElementById("finCertSdkIframe");!c||(i=c.contentWindow.document.getElementById("finCertSdkInnerIframe"))&&(a=new Date,t&&(c.style.display="block",u()),s={type:"FINCERT_PERS_SDK",version:M,command:e,param:JSON.parse(JSON.stringify(n))},"sign"===e&&n&&n.view&&n.view.enableTextView&&n.view.enableTextViewAddInfo&&n.view.enableTextViewAddInfo.nameExclusionRegExp instanceof RegExp&&(s.param=JSON.parse(JSON.stringify(function e(n){if(null===n||"object"!=typeof n)return n;if(n instanceof RegExp)return{__regexpType:!0,source:n.source,flags:(n.global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":"")};if(n instanceof Array){for(var t=[],o=0;o<n.length;o++)t[o]=e(n[o]);return t}t={};for(var r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}(n)))),e=new MessageChannel,i.contentWindow.postMessage(s,S,[e.port2]),e.port1.onmessage=function(e){e=e.data;T&&a<T||(t&&(c.style.display="none",f()),R=!1,D="","success"===e.command?d(o,e.param,"success"):"fail"===e.command?d(r,e.param,"fail"):"callback"===e.command?d(n.callback,null,"callback"):"raIssueAppFunc"===e.command?d(n.raIssueAppFunc,null,"raIssueAppFunc"):"raRenewAppFunc"===e.command?d(n.raRenewAppFunc,null,"raRenewAppFunc"):"bioAuthAppFunc"===e.command&&(e.param=e.param||{},e.param.nextStep=function(e){l("nextStep",e,!1)},console.log("[대표앱] bioAuthAppFunc received, param : "+e.param),d(n.bioAuthAppFunc,e.param,"bioAuthAppFunc")))})}function d(e,n,t){try{n?e(n):e()}catch(e){console.warn("주입한 "+t+" 함수 호출시 에러가 발생하였습니다. 확인하시기 바랍니다."),console.warn(e.message)}}function t(){var e;I&&(e={orientation:p.orientation,matchMediaForMobile:p.matchMedia("only screen and (max-width: 768px)").matches},I.postMessage({version:M,command:"mobileCheckData",param:e}))}function c(e,n){return R?"getRegisterDeviceStatus"===D&&"cancelDeviceRegister"===n||(d(e,new FinError("이미 금융인증서비스 실행중입니다. 잠시 기다리세요. ("+D+")",null,100008),"fail"),!1):(D=n,R=!0)}var p,e,i,a,m,g,y,v,h,S,C,o,k,b,w,I,A,E,F,T,R,D,x,_,U,B,L,O,M}();