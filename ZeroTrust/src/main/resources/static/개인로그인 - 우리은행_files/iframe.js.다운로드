function Q4lxB(){}function postFuncMessageToParentMain(e,n){mainMessagePort&&(n?mainMessagePort.postMessage({version:VERSION,command:e,param:n}):mainMessagePort.postMessage({version:VERSION,command:e}))}function postFuncMessageToParentMainPromise(r){return new Promise(function(n,t){var a,e=new MessageChannel;r.type="FINCERT_PERS_MAIN_PROMISE",r.version=VERSION,window.parent.postMessage(r,"*",[e.port2]),a=setTimeout(function(){t(new FinError("부모 프레임 통신 실패 (timeout)",null,499999))},3e3),e.port1.onmessage=function(e){clearTimeout(a),(e=e.data).error?t(new FinError("부모 프레임 오류 : "+e.command,e,4e5)):n(e)},e.port1.onmessageerror=function(e){t(e)}})}var nextStep;function handlePromiseMessage(n){var e,t;n.data&&"FINCERT_PERS_SDK"===n.data.type&&(e=n.data.param,"sign"===(t=n.data.command)&&n.data.param&&n.data.param.view&&n.data.param.view.enableTextView&&n.data.param.view.enableTextViewAddInfo&&n.data.param.view.enableTextViewAddInfo.nameExclusionRegExp&&(e=_deserializeRegExp(n.data.param)),Array.isArray(e)&&0<e.length?(e[0].success=function(e){n.ports[0].postMessage({command:"success",param:e})},e[0].fail=function(e){n.ports[0].postMessage({command:"fail",param:e})}):(e.success=function(e){n.ports[0].postMessage({command:"success",param:e})},e.fail=function(e){n.ports[0].postMessage({command:"fail",param:e})}),e.callback=function(e){n.ports[0].postMessage({command:"callback",param:e})},e.raIssueAppFuncCall&&(e.raIssueAppFunc=function(e){n.ports[0].postMessage({command:"raIssueAppFunc",param:e})}),e.raRenewAppFuncCall&&(e.raRenewAppFunc=function(e){n.ports[0].postMessage({command:"raRenewAppFunc",param:e})}),e.bioAuthAppFuncCall&&(e.bioAuthAppFunc=function(e){nextStep=e.nextStep,n.ports[0].postMessage({command:"bioAuthAppFunc"})}),"init"===t?FinCert.Sdk.init(e):"issue"===t?FinCert.Sdk.issue(e):"renew"===t?FinCert.Sdk.renew(e):"sign"===t?FinCert.Sdk.sign(e):"signWithoutUI"===t?FinCert.Sdk.signWithoutUI(e):"myDataSign"===t?FinCert.Sdk.myDataSign(e):"myDataSignWithoutUI"===t?FinCert.Sdk.myDataSignWithoutUI(e):"manage"===t?FinCert.Sdk.manage(e):"checkCloudConn"===t?FinCert.Sdk.checkCloudConn(e):"setSubAuthData"===t?FinCert.Sdk.setSubAuthData(e):"getCertInfoList"===t?FinCert.Sdk.getCertInfoList(e):"getUserInfo"===t?FinCert.Sdk.getUserInfo(e):"regSimpleKeyToken"===t?FinCert.Sdk.regSimpleKeyToken(e):"setAuthData"===t?FinCert.Sdk.setAuthData(e):"getCertInfo"===t?FinCert.Sdk.getCertInfo(e):"getSignerCertFromSignedVal"===t?FinCert.Sdk.getSignerCertFromSignedVal(e):"isOverseasIp"===t?FinCert.Sdk.isOverseasIp(e):"registerDevice"===t?FinCert.Sdk.registerDevice(e):"cancelDeviceRegister"===t?FinCert.Sdk.cancelDeviceRegister(e):"getRegisterDeviceStatus"===t?FinCert.Sdk.getRegisterDeviceStatus(e):"disconnectCloudConn"===t?FinCert.Sdk.disconnectCloudConn(e):"abort"===t?FinCert.Sdk.abort(e):"convertBase64UrlToBase64"===t?FinCert.Sdk.convertBase64UrlToBase64(e):"convertBase64ToBase64Url"===t?FinCert.Sdk.convertBase64ToBase64Url(e):"makeAutoConnInfo"===t?FinCert.Sdk.makeAutoConnInfo(e):"setAutoConnInfo"===t?FinCert.Sdk.setAutoConnInfo(e):"getAvailableAuthMethod"===t?FinCert.Sdk.getAvailableAuthMethod(e):"signEnvelop"===t?FinCert.Sdk.signEnvelop(e):"deEnvelop"===t?FinCert.Sdk.deEnvelop(e):"kisaSimpleAuth"===t?FinCert.Sdk.kisaSimpleAuth(e):"oneappSign"===t?FinCert.Sdk.oneappSign(e):"nextStep"===t?nextStep(e):"withdrawUserForOffline"===t&&FinCert.Sdk.withdrawUserForOffline(e))}function checkJsLoadFinished(){var e;console.log("checkJsLoadFinished Called"),FinCert&&FinCert.Sdk&&FinCert.Interface?(console.log("checkJsLoadFinished Load Done"),e=new MessageChannel,mainMessagePort=e.port1,mainMessagePort.onmessage=function(e){e.data&&e.data.version===VERSION&&"mobileCheckData"===e.data.command&&(matchMediaForMobile=e.data.param.matchMediaForMobile,windowOrientation=e.data.param.orientation)},window.parent.postMessage({type:"FINCERT_PERS_MAIN",version:VERSION},"*",[e.port2]),"iOS"!==(e=new UAParser(navigator.userAgent)).getOS().name&&"Safari"!==e.getBrowser().name&&"Mobile Safari"!==e.getBrowser().name&&"WebKit"!==e.getBrowser().name||postFuncMessageToParentMain("loadFincertFrm",{sriHashCompliance:sriHashCompliance})):setTimeout(checkJsLoadFinished,100)}function postEventMsgToParentMain(e){mainMessagePort&&mainMessagePort.postMessage({version:VERSION,event:e})}function addSdkMessageHandler(){window.addEventListener("message",handlePromiseMessage)}function loadScript(e){sriHashCompliance=e,checkJsLoadFinished(),e?FinCert.loadUtil.getValidJSForWebStandardComplianceBroswer("finCertSdkScriptTag",SDK_HASH,"sdk.js",document,!1):FinCert.loadUtil.getValidJSForNonWebStandardComplianceBroswer(SDK_HASH,"sdk.js",document,!1),e?FinCert.loadUtil.getValidJSForWebStandardComplianceBroswer("finCertUIScriptTag",UI_HASH,"fincert-ui.js",document,!1):FinCert.loadUtil.getValidJSForNonWebStandardComplianceBroswer(UI_HASH,"fincert-ui.js",document,!1)}function onloadFunc(){checkSriHashCompliance(),addSdkMessageHandler()}function _deserializeRegExp(e){if(null===e||"object"!=typeof e)return e;if(!0===e.__regexpType)return new RegExp(e.source,e.flags);if(e instanceof Array){for(var n=[],t=0;t<e.length;t++)n[t]=_deserializeRegExp(e[t]);return n}for(var a in n={},e)e.hasOwnProperty(a)&&(n[a]=_deserializeRegExp(e[a]));return n}function checkSriHashCompliance(){var e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href="https://4user.yeskey.or.kr/v1/must-integrity-fail.css",e.integrity="sha256-MUSTFAIL",e.crossOrigin="anonymous",e.onload=loadScript.bind(this,!1),e.onerror=loadScript.bind(this,!0),document.head.appendChild(e)}Q4lxB[929]=function(){for(var n,e=2;9!==e;)switch(e){case 5:try{for(var t=2;6!==t;)switch(t){case 2:Object.defineProperty(Object.prototype,"JFWOu",{get:function(){return this},configurable:!0}),(n=JFWOu).bCp6w=n,t=4;break;case 4:t="undefined"==typeof bCp6w?3:9;break;case 3:throw"";case 9:delete n.bCp6w,delete Object.prototype.JFWOu,t=6}}catch(e){n=window}return n;case 2:e="object"==typeof globalThis?1:5;break;case 1:return globalThis}}(),Q4lxB[604915]="g_d",Q4lxB[67532]="dI1",(Q4lxB[929].Y9xx=Q4lxB)[345946]="MJZ",Q4lxB[77533]=Q4lxB[929],Q4lxB[245691]=582,Q4lxB[264560]=599,Q4lxB[608907]="ESS",Q4lxB[188608]=Q4lxB[929],Q4lxB[247634]=733;